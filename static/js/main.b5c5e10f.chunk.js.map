{"version":3,"sources":["actions.js","reducers/auth.js","reducers/card.js","reducers/addresses.js","reducers/route.js","reducers/index.js","api.js","sagas/authSaga.js","sagas/regSaga.js","sagas/cardSaga.js","sagas/addressListSaga.js","sagas/routeSaga.js","store.js","images/logo.svg","components/Login/LoginForm.jsx","components/Login/Login.jsx","components/Checkin/CheckinForm.jsx","components/Checkin/Checkin.jsx","components/Header/Header.jsx","components/NoCardModal/NoCardModal.jsx","components/NewOrderModal/NewOrderModal.jsx","components/OrderForm/OrderForm.jsx","components/Map/Map.jsx","components/Profile/ProfileForm.jsx","components/GoToMapModal/GoToMapModal.jsx","components/Profile/Profile.jsx","components/App/App.jsx","index.js"],"names":["LOG_IN","LOG_IN_ERROR","LOG_OUT","AUTHENTICATE","CHECKIN","SET_CARD","SET_CARD_SUCCESS","GET_CARD","GET_CARD_SUCCESS","GET_ADDRESS","GET_ADDRESS_SUCCESS","GET_ROUTE","GET_ROUTE_SUCCESS","logIn","token","type","payload","logOut","getCard","getCardSuccess","data","cardNumber","expiryDate","cardName","cvc","getAddressSuccess","addresses","getRouteSuccess","route","initialState","isLoggedIn","window","localStorage","getItem","JSON","parse","combineReducers","auth","state","action","setItem","stringify","error","removeItem","card","serverLogin","email","password","a","fetch","method","body","headers","then","res","json","serverCheckin","firstName","lastName","name","surname","serverSetCard","success","serverGetCard","serverGetAddress","serverGetRoute","address1","address2","authenticateSaga","authSaga","call","put","takeEvery","registrationSaga","regSaga","setCardSaga","getCardSaga","cardSaga","getAddressListSaga","addressListSaga","getRouteSaga","routeSaga","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","SagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","LoginForm","useDispatchHook","dispatch","useDispatch","useForm","mode","reValidateMode","register","handleSubmit","errors","onSubmit","authenticate","className","FormLabel","Input","inputRef","required","value","message","pattern","Login","this","props","to","style","marginTop","marginBottom","Component","connect","CheckinForm","checkin","width","Checkin","Header","unauthenticate","onClick","NoCardModal","NewOrderModal","handleClick","e","preventDefault","makeOrder","OrderForm","src","dest","getRoute","target","onChange","setState","default","disabled","map","address","mapboxgl","accessToken","drawRoute","coordinates","getLayer","removeLayer","removeSource","flyTo","center","zoom","addLayer","id","source","properties","geometry","layout","paint","Map","mapContainer","React","createRef","container","current","getAddress","length","ref","data-testid","ProfileForm","updateCardData","defaultValues","reset","useEffect","setCard","minLength","event","replace","match","join","substr","normalizeCardNumber","placeholder","normalizeExpiryDate","u","toUpperCase","normalizeCardName","normalizeCvc","GoToMapModal","Profile","PrivateRoute","RouteComponent","component","rest","render","routeProps","App","Logo","alt","path","exact","from","ReactDOM","StrictMode","theme","document","getElementById"],"mappings":"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","file":"static/js/main.b5c5e10f.chunk.js","sourcesContent":["export const LOG_IN = 'LOG_IN';\nexport const LOG_IN_ERROR = 'LOG_IN_ERROR';\nexport const LOG_OUT = 'LOG_OUT';\nexport const AUTHENTICATE = 'AUTHENTICATE';\nexport const CHECKIN = 'CHECKIN';\n\nexport const SET_CARD = 'SET_CARD';\nexport const SET_CARD_SUCCESS = 'SET_CARD_SUCCESS';\n\nexport const GET_CARD = 'GET_CARD';\nexport const GET_CARD_SUCCESS = 'GET_CARD_SUCCESS';\n\nexport const GET_ADDRESS = 'GET_ADDRESS';\nexport const GET_ADDRESS_SUCCESS = 'GET_ADDRESS_SUCCESS';\n\nexport const GET_ROUTE = 'GET_ROUTE';\nexport const GET_ROUTE_SUCCESS = 'GET_ROUTE_SUCCESS';\n\nexport const logIn = (token) => ({ \n    type: LOG_IN, \n    payload: token\n});\nexport const logInError = (error) => ({ \n    type: LOG_IN_ERROR, \n    payload: error\n});\nexport const logOut = () => ({ type: LOG_OUT });\nexport const authenticate = (email, password) => ({ \n    type: AUTHENTICATE, \n    payload: {email, password}\n});\nexport const checkin = (email, firstName, lastName, password) => ({ \n    type: CHECKIN, \n    payload: {email, firstName, lastName, password}\n});\n\nexport const setCard = (cardNumber, expiryDate, cardName, cvc, token) => ({\n    type: SET_CARD, \n    payload: {cardNumber, expiryDate, cardName, cvc, token}\n});\nexport const setCardSuccess = () => ({ type: SET_CARD_SUCCESS });\n\nexport const getCard = (token) => ({\n    type: GET_CARD, \n    payload: {token}\n});\nexport const getCardSuccess = (data) => ({ \n    type: GET_CARD_SUCCESS,\n    payload: {\n        cardNumber: data.cardNumber, \n        expiryDate: data.expiryDate, \n        cardName: data.cardName, \n        cvc: data.cvc\n    } \n});\n\nexport const getAddress = () => ({\n    type: GET_ADDRESS\n});\nexport const getAddressSuccess = (data) => ({ \n    type: GET_ADDRESS_SUCCESS,\n    payload: {\n        addresses: data.addresses \n    } \n});\n\nexport const getRoute = (address1, address2) => ({\n    type: GET_ROUTE,\n    payload: {address1, address2}\n});\nexport const getRouteSuccess = (data) => ({ \n    type: GET_ROUTE_SUCCESS,\n    payload: {\n        route: data\n    }\n});\n","import { LOG_IN, LOG_OUT, LOG_IN_ERROR } from '../actions';\n\nconst initialState = {\n    isLoggedIn: window.localStorage.getItem('state')\n        ? JSON.parse(window.localStorage.getItem('state')).isLoggedIn \n        : false,\n    token: window.localStorage.getItem('state')\n        ? JSON.parse(window.localStorage.getItem('state')).token \n        : ''\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function(state=initialState, action) {\n    switch(action.type){\n        case LOG_IN: {\n            window.localStorage.setItem('state', JSON.stringify({\n                isLoggedIn: true,\n                token: action.payload\n            }));\n            return {\n                isLoggedIn: true,\n                token: action.payload,\n                error: ''\n            }\n        }\n        case LOG_IN_ERROR: {\n            return {\n                isLoggedIn: false,\n                token: '',\n                error: action.payload\n            }\n        }\n        case LOG_OUT: {\n            window.localStorage.removeItem('state');\n            return {\n                isLoggedIn: false,\n                token: '',\n                error: ''\n            }\n        }\n        default:\n            return state;\n    }\n}\n","import { SET_CARD_SUCCESS, GET_CARD_SUCCESS, LOG_OUT } from '../actions';\n\nconst initialState = {\n    cardNumber: '',\n    expiryDate: '',\n    cardName: '',\n    cvc: ''\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function(state=initialState, action) {\n    switch(action.type){\n        case SET_CARD_SUCCESS: {\n            return state;\n        }\n        case GET_CARD_SUCCESS: {\n            return {\n                cardNumber: action.payload.cardNumber,\n                expiryDate: action.payload.expiryDate,\n                cardName: action.payload.cardName,\n                cvc: action.payload.cvc\n            }\n        }\n        case LOG_OUT: {\n            return {\n                cardNumber: '',\n                expiryDate: '',\n                cardName: '',\n                cvc: ''\n            }\n        }\n        default:\n            return state;\n    }\n}\n","import { GET_ADDRESS_SUCCESS, LOG_OUT } from '../actions';\n\nconst initialState = { \n    addresses: []\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function(state=initialState, action) {\n    switch(action.type){\n        case GET_ADDRESS_SUCCESS: {\n            return {\n                addresses: action.payload.addresses\n            }\n        }\n        case LOG_OUT: {\n            return {\n                addresses: []\n            }\n        }\n        default:\n            return state;\n    }\n}\n","import { GET_ROUTE_SUCCESS, LOG_OUT } from '../actions';\n\nconst initialState = {\n    route: []\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function(state=initialState, action) {\n    switch(action.type){\n        case GET_ROUTE_SUCCESS: {\n            return {\n                route: action.payload.route\n            }\n        }\n        case LOG_OUT: {\n            return {\n                route: []\n            }\n        }\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from 'redux';\nimport auth from './auth';\nimport card from './card';\nimport addresses from './addresses';\nimport route from './route';\n\nexport default combineReducers({auth, card, addresses, route})\n","export const serverLogin = async(email, password) => {\n    return fetch(`https://loft-taxi.glitch.me/auth`, { \n        method: 'POST',\n        body: JSON.stringify({\n            email: email, \n            password: password\n        }),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(data => data)\n}\n\nexport const serverCheckin = async(email, firstName, lastName, password) => {\n    return fetch(`https://loft-taxi.glitch.me/register`, { \n        method: 'POST',\n        body: JSON.stringify({\n            email: email, \n            password: password, \n            name: firstName, \n            surname: lastName \n        }),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(data => data.token)\n}\n\nexport const serverSetCard = async(cardNumber, expiryDate, cardName, cvc, token) => {\n    return fetch(`https://loft-taxi.glitch.me/card`, { \n        method: 'POST',\n        body: JSON.stringify({\n            cardNumber: cardNumber, \n            expiryDate: expiryDate, \n            cardName: cardName, \n            cvc: cvc, \n            token: token\n        }),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(data => data.success)\n}\n\nexport const serverGetCard = async(token) => {\n    return fetch(`https://loft-taxi.glitch.me/card?token=${token}`, { \n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(data => data)\n}\n\nexport const serverGetAddress = async() => {\n    return fetch('https://loft-taxi.glitch.me/addressList')\n        .then(res => res.json())\n        .then(data => data)\n}\n\nexport const serverGetRoute = async(address1, address2) => {\n    return fetch(`https://loft-taxi.glitch.me/route?address1=${address1}&address2=${address2}`)\n        .then(res => res.json())\n        .then(data => data)\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { serverLogin } from '../api';\nimport { AUTHENTICATE, logIn, logInError } from '../actions';\n\nexport function* authenticateSaga(action) {\n    const {email, password} = action.payload;\n    const data = yield call(serverLogin, email, password);\n    if (data.token) {\n        yield put(logIn(data.token));\n    } else {\n        yield put(logInError(data.error));\n    }\n}\n\nexport function* authSaga() {\n    yield takeEvery(AUTHENTICATE, authenticateSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { serverCheckin } from '../api';\nimport { CHECKIN, logIn } from '../actions';\n\nexport function* registrationSaga(action) {\n    const {email, firstName, lastName, password} = action.payload;\n    const token = yield call(serverCheckin, email, firstName, lastName, password);\n    if (token) {\n        yield put(logIn(token));\n    }\n}\n\nexport function* regSaga() {\n    yield takeEvery(CHECKIN, registrationSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { serverSetCard, serverGetCard } from '../api';\nimport { SET_CARD, GET_CARD, setCardSuccess, getCardSuccess, getCard } from '../actions';\n\nexport function* setCardSaga(action) {\n    const {cardNumber, expiryDate, cardName, cvc, token} = action.payload;\n    const success = yield call(serverSetCard, cardNumber, expiryDate, cardName, cvc, token);\n    if (success) {\n        yield put(setCardSuccess());\n        yield put(getCard(token));\n    }\n}\n\nexport function* getCardSaga(action) {\n    const {token} = action.payload;\n    const data = yield call(serverGetCard, token);\n    if (data) {\n        yield put(getCardSuccess(data));\n    }\n}\n\nexport function* cardSaga() {\n    yield takeEvery(SET_CARD, setCardSaga);\n    yield takeEvery(GET_CARD, getCardSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { serverGetAddress } from '../api';\nimport { GET_ADDRESS, getAddressSuccess } from '../actions';\n\nexport function* getAddressListSaga(action) {\n    const data = yield call(serverGetAddress);\n    if (data) {\n        yield put(getAddressSuccess(data));\n    }\n}\n\nexport function* addressListSaga() {\n    yield takeEvery(GET_ADDRESS, getAddressListSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { serverGetRoute } from '../api';\nimport { GET_ROUTE, getRouteSuccess } from '../actions';\n\nexport function* getRouteSaga(action) {\n    const {address1, address2} = action.payload;\n    const data = yield call(serverGetRoute, address1, address2);\n    if (data) {\n        yield put(getRouteSuccess(data));\n    }\n}\n\nexport function* routeSaga() {\n    yield takeEvery(GET_ROUTE, getRouteSaga);\n}\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './reducers';\nimport createSagaMiddleware from 'redux-saga';\nimport { authSaga } from './sagas/authSaga';\nimport { regSaga } from './sagas/regSaga';\nimport { cardSaga } from './sagas/cardSaga';\nimport { addressListSaga } from './sagas/addressListSaga';\nimport { routeSaga } from './sagas/routeSaga';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst SagaMiddleware = createSagaMiddleware();\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(SagaMiddleware))); \n\nSagaMiddleware.run(authSaga);\nSagaMiddleware.run(regSaga);\nSagaMiddleware.run(cardSaga);\nSagaMiddleware.run(addressListSaga);\nSagaMiddleware.run(routeSaga);\n","export default __webpack_public_path__ + \"static/media/logo.9f1f5bc1.svg\";","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { authenticate } from '../../actions'; \n\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Input from '@material-ui/core/Input';\n\nexport const LoginForm = ({ useDispatchHook = useDispatch }) => {\n    const dispatch = useDispatchHook();\n    const { register, handleSubmit, errors } = useForm({\n        mode: 'onBlur',\n        reValidateMode: 'onBlur'\n    });\n\n    const onSubmit = (data) => {\n        const { email, password } = data;\n        dispatch(authenticate(email, password));\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} className='login'>\n          <FormLabel className='login__label'>\n            Имя пользователя\n            <Input \n                inputRef={register({ \n                    required: {\n                        value: true, \n                        message: 'Имя пользователя должно быть заполнено'\n                    },\n                    pattern: {\n                        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                        message: 'Неверный формат email'\n                    } \n                })} \n                className='login__input'\n                type='text'\n                name='email'\n            />\n            {errors.email && <p className='form-error'>{errors.email.message}</p>}\n          </FormLabel>\n          <FormLabel className='login__label'>\n            Пароль\n            <Input \n                inputRef={register({ required: true })} \n                className='login__input'\n                type='password'\n                name='password'\n            />\n            {errors.password && <p className='form-error'>Пароль должен быть заполнен</p>}\n          </FormLabel>\n          <button type='submit' className='login__button'>Войти</button>\n        </form>\n    )\n}\n","import { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './Login.scss';\nimport { LoginForm } from './LoginForm';\n\nclass Login extends Component {\n  render() {\n    return (\n      <div className='form login-form'> \n        {this.props.isLoggedIn && < Redirect to='/map' />}\n        <h2>Войти</h2>\n        Новый пользователь?  <Link to='/checkin'>Зарегистрируйтесь</Link>\n        {this.props.error && <p className='form-error' style={{marginTop: '15px', marginBottom: '-20px'}}>{this.props.error}</p>}   \n        <LoginForm />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    isLoggedIn: state.auth.isLoggedIn,\n    error: state.auth.error\n  }),{}\n)(Login);\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { checkin } from '../../actions'; \n\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Input from '@material-ui/core/Input';\n\nexport const CheckinForm = ({ useDispatchHook = useDispatch }) => {\n    const dispatch = useDispatchHook();\n    const { register, handleSubmit, errors } = useForm({\n        mode: 'onBlur',\n        reValidateMode: 'onBlur'\n    });\n\n    const onSubmit = (data) => {\n        const { email, firstName, lastName, password } = data;\n        dispatch(checkin(email, firstName, lastName, password));\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} className='checkin'>\n            <FormLabel className='checkin__label'>\n                Адрес электронной почты\n                <Input \n                    inputRef={register({ \n                        required: {\n                            value: true, \n                            message: 'Имя пользователя должно быть заполнено'\n                        },\n                        pattern: {\n                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                            message: 'Неверный формат email'\n                        } \n                    })} \n                    className='checkin__input'\n                    type='text'\n                    name='email'\n                />\n                {errors.email && <p className='form-error'>{errors.email.message}</p>}\n            </FormLabel>\n            <div className='inlineInputs'>\n                <FormLabel className='checkin__label' style={{ width:'48%' }}>\n                Имя\n                <Input \n                    inputRef={register({ required: true })} \n                    className='checkin__input'\n                    type='text'\n                    name='firstName'\n                />\n                {errors.firstName && <p className='form-error'>Имя должно быть заполнено</p>}\n                </FormLabel>\n                <FormLabel className='checkin__label' style={{ width:'48%' }}>\n                Фамилия\n                <Input \n                    inputRef={register({ required: true })} \n                    className='checkin__input'\n                    type='text'\n                    name='lastName'\n                /> \n                {errors.lastName && <p className='form-error'>Фамилия должна быть заполнена</p>}\n                </FormLabel>\n            </div>\n            <FormLabel className='checkin__label'>\n                Пароль\n                <Input \n                    inputRef={register({ required: true })} \n                    className='checkin__input'\n                    type='password'\n                    name='password'\n                />\n                {errors.password && <p className='form-error'>Пароль должен быть заполнен</p>}\n            </FormLabel>\n            <button type='submit' className='checkin__button'>Зарегистрироваться</button>\n        </form>\n    )\n}\n","import { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './Checkin.scss';\nimport { CheckinForm } from './CheckinForm';\n\nclass Checkin extends Component {\n  render() {\n    return (\n      <div className='form checkin-form'> \n        {this.props.isLoggedIn && < Redirect to='/map' />}\n        <h2>Регистрация</h2>\n        Уже зарегистрирован?  <Link to='/'>Войти</Link>\n        <CheckinForm />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({isLoggedIn: state.auth.isLoggedIn}),{}\n)(Checkin);\n","import { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../actions';\nimport './Header.scss';\nimport { Logo } from 'loft-taxi-mui-theme';\n\nclass Header extends Component {\n  unauthenticate = () => {\n    this.props.logOut();\n  }\n\n  render() {\n    return (\n      <header className='header'>\n        <div className='header__content'>\n          <Logo/>\n          <nav className='header__nav'>\n            <ul className='header__nav-list'>\n              <li className='header__nav-list-item'>\n                <Link to='/map' className='header__nav-list-item-link'>Карта</Link>\n              </li>\n              <li className='header__nav-list-item'>\n                <Link to='/profile' className='header__nav-list-item-link'>Профиль</Link>\n              </li>\n              <li className='header__nav-list-item'>\n                <Link to='/' onClick={this.unauthenticate} className='header__nav-list-item-link'>Выйти</Link>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { logOut }\n)(Header);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './NoCardModal.scss';\n\nclass NoCardModal extends Component {\n    render() {\n        return (\n            <form className='form nocard'>\n                <h3 className='nocard__title'>Заполните платежные данные</h3>\n                <h4 className='nocard__subtitle'>Укажите информацию о банковской карте, чтобы сделать заказ.</h4>\n                    <Link to='/profile' className='nocard__button-link'>\n                        <button className='nocard__button'>\n                            Перейти в профиль\n                        </button>\n                    </Link>\n            </form>\n        );\n    }\n}\n\nexport default NoCardModal;\n","import React, { Component } from 'react';\nimport './NewOrderModal.scss';\n\nclass NewOrderModal extends Component {\n    handleClick = (e) => {\n        e.preventDefault();\n        this.props.makeOrder(false);\n    }\n\n    render() {\n        return (\n            <form className='form nocard'>\n                <h3 className='nocard__title'>Заказ оформлен</h3>\n                    <button className='nocard__button' onClick={this.handleClick}>\n                        Новый заказ\n                    </button>\n            </form>\n        );\n    }\n}\n\nexport default NewOrderModal;\n","import React, { Component } from 'react';\nimport './OrderForm.scss';\nimport { connect } from 'react-redux';\nimport { getRoute } from '../../actions';\n\nimport FormLabel from '@material-ui/core/FormLabel';\n\nclass OrderForm extends Component {\n    state = {\n      src: '',\n      dest: ''\n    }\n\n    getRoute = e => {\n        e.preventDefault();\n        const { src, dest } = e.target ;\n        this.props.getRoute(src.value, dest.value); \n        this.props.makeOrder(true);\n    };\n\n    render() {\n        const { src, dest } = this.state;\n        const addresses = this.props.addresses;\n        return (\n            <div className='form orderForm-form'>\n                <form onSubmit={this.getRoute} className='orderForm'>\n                    <FormLabel className='orderForm__label'>\n                        Откуда:\n                        <select \n                            className='orderForm__input'\n                            name='src'\n                            value={src} \n                            onChange={e => this.setState({ src: e.target.value })} \n                        >\n                            <option default disabled key='default'></option>\n                            {addresses.map(address => (\n                                address!==this.state.dest && <option key={address}>{address}</option>\n                            ))}\n                        </select>\n                    </FormLabel>\n                    <FormLabel className='orderForm__label'>\n                        Куда:\n                        <select \n                            className='orderForm__input'\n                            name='dest'\n                            value={dest} \n                            onChange={e => this.setState({ dest: e.target.value })} \n                        >\n                            <option default disabled key='default'></option>\n                            {addresses.map(address => (\n                                address!==this.state.src && <option key={address}>{address}</option>\n                            ))}\n                        </select>\n                    </FormLabel>\n                    <button type='submit' className='orderForm__button'>Вызвать такси</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    (state) => ({\n        addresses: state.addresses.addresses\n    }),\n    { getRoute }\n)(OrderForm);\n  ","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport { connect } from 'react-redux';\nimport { getCard, getAddress } from '../../actions';\nimport './Map.scss';\nimport Header from '../Header';\nimport NoCardModal from '../NoCardModal';\nimport NewOrderModal from '../NewOrderModal';\nimport OrderForm from '../OrderForm';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoicHlhdHlraGluYSIsImEiOiJja2h6MDF6NjgybGZxMnBrejI0NWFpZ2tpIn0.AG-o6CiLmJ9ssaWs0tLSZA';\n\nconst drawRoute = (map, coordinates) => {\n  map.getLayer('route') && map.removeLayer('route').removeSource('route');\n  \n  if (!coordinates) return; \n\n  map.flyTo({\n    center: coordinates[0],\n    zoom: 13\n  });\n \n  map.addLayer({\n    id: 'route',\n    type: 'line',\n    source: {\n      type: 'geojson',\n      data: {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n          type: 'LineString',\n          coordinates\n        }\n      }\n    },\n    layout: {\n      'line-join': 'round',\n      'line-cap': 'round'\n    },\n    paint: {\n      'line-color': '#ffc617',\n      'line-width': 8\n    }\n  });\n};\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.map = null;\n    this.mapContainer = React.createRef();\n  }\n\n  state = {\n    makeOrder: false\n  }\n  \n  componentDidMount() {\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: 'mapbox://styles/pyatykhina/ckhz0q8o112of19qqobazgwvx',\n      center: [30.315, 59.940], \n      zoom: 13\n    });\n\n    this.props.getCard(this.props.token);\n    this.props.getAddress();\n  }\n\n  componentDidUpdate() {\n    if (this.props.coordinates && this.props.coordinates.length > 0) {\n      drawRoute(this.map, this.props.coordinates);\n    }\n  }\n\n  makeOrder = (value) => {\n    this.setState({makeOrder: value})\n    value === false && drawRoute(this.map, [])\n  }\n\n  // componentWillUnmount() {\n  //   this.map.remove(); \n  // }\n\n  render() {\n    const { cardNumber, expiryDate, cardName, cvc } = this.props;\n    return (\n      <>\n        <Header />\n        <div ref={this.mapContainer} data-testid='map' className='mapContainer' />\n        {\n          this.state.makeOrder \n            ? <NewOrderModal makeOrder={this.makeOrder} />\n            : cardNumber && expiryDate && cardName && cvc\n              ? <OrderForm makeOrder={this.makeOrder} />\n              : <NoCardModal />\n        }\n      </>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    cardNumber: state.card.cardNumber,\n    expiryDate: state.card.expiryDate,\n    cardName: state.card.cardName,\n    cvc: state.card.cvc,\n    coordinates: state.route.route,\n    token: state.auth.token\n  }),{ getCard, getAddress}\n)(Map);\n","import React, { useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { setCard } from '../../actions'; \n\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Input from '@material-ui/core/Input';\nimport { MCIcon } from 'loft-taxi-mui-theme';\n\nconst normalizeCardNumber = (value) => {\n    return value.replace(/\\s/g, '').replace(/[^\\d]/g, '').match(/.{1,4}/g)?.join(' ').substr(0,19) || '';\n}\n\nconst normalizeExpiryDate = (value) => {\n    return value.replace(/\\s/g, '').replace(/[^\\d]/g, '').replace(/\\//g, '').match(/.{1,2}/g)?.join('\\/').substr(0,5) || '';\n}\n\nconst normalizeCardName = (value) => {\n    return value.replace(/[^ a-zA-Z]/g, '').replace(/[a-z]/g, u => u.toUpperCase()) || '';\n}\n\nconst normalizeCvc = (value) => {\n    return value.replace(/\\s/g, '').replace(/[^\\d]/g, '').substr(0,3) || '';\n}\n\nexport const ProfileForm = ({ cardNumber, expiryDate, cardName, cvc, token, updateCardData, useDispatchHook = useDispatch }) => {\n    const dispatch = useDispatchHook();\n    const { register, handleSubmit, errors, reset } = useForm({\n        mode: 'onBlur',\n        reValidateMode: 'onBlur',\n        defaultValues: {\n            cardNumber: cardNumber,\n            expiryDate: expiryDate,\n            cardName: cardName,\n            cvc: cvc\n        }\n    });\n\n    useEffect(() => {\n        reset({\n            cardNumber: cardNumber,\n            expiryDate: expiryDate,\n            cardName: cardName,\n            cvc: cvc\n        });\n    }, [reset, cardNumber, expiryDate, cardName, cvc]);\n    \n    const onSubmit = (data) => {\n        const { cardNumber, expiryDate, cardName, cvc } = data;\n        dispatch(setCard(cardNumber, expiryDate, cardName, cvc, token));\n        updateCardData(true);\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} className='profile'>\n            <div className='profile__subforms'>\n                <div className='profile__subforms-item'>\n                    <MCIcon className='mastercard-icon'/>\n                    <FormLabel className='profile__label'>\n                        Номер карты:\n                        <Input \n                            inputRef={register({ \n                                required: {\n                                    value: true, \n                                    message: 'Обязательное поле'\n                                },\n                                minLength: {\n                                    value: 19,\n                                    message: 'Номер карты должен состоять из 16 цифр'\n                                }\n                            })} \n                            onChange = {(event) => {\n                                const {value} = event.target;\n                                event.target.value = normalizeCardNumber(value);\n                            }}\n                            className='profile__input'\n                            placeholder='0000 0000 0000 0000'\n                            type='text'\n                            name='cardNumber'\n                        />\n                        {errors.cardNumber && <p className='form-error'>{errors.cardNumber.message}</p>}\n                    </FormLabel>\n                    <FormLabel className='profile__label' style={{width:'40%'}}>\n                        Срок действия:\n                        <Input \n                            inputRef={register({ \n                                required: {\n                                    value: true, \n                                    message: 'Обязательное поле'\n                                }\n                            })} \n                            onChange = {(event) => {\n                                const {value} = event.target;\n                                event.target.value = normalizeExpiryDate(value);\n                            }}\n                            className='profile__input'\n                            placeholder='12/20'\n                            type='text'\n                            name='expiryDate'\n                        />\n                        {errors.expiryDate && <p className='form-error'>{errors.expiryDate.message}</p>}\n                    </FormLabel>\n                </div>\n                <div className='profile__subforms-item'>\n                    <FormLabel className='profile__label'>\n                        Имя владельца:\n                        <Input \n                            inputRef={register({ \n                                required: {\n                                    value: true, \n                                    message: 'Обязательное поле'\n                                }\n                            })} \n                            onChange = {(event) => {\n                                const {value} = event.target;\n                                event.target.value = normalizeCardName(value);\n                            }}\n                            className='profile__input'\n                            placeholder='USER NAME'\n                            type='text'\n                            name='cardName'\n                        />\n                        {errors.cardName && <p className='form-error'>{errors.cardName.message}</p>}\n                    </FormLabel>\n                    <FormLabel className='profile__label' style={{width:'40%'}}>\n                        CVC:\n                        <Input \n                            inputRef={register({ \n                                required: {\n                                    value: true, \n                                    message: 'Обязательное поле'\n                                },\n                                minLength: {\n                                    value: 3,\n                                    message: 'CVC должен состоять из трех цифр'\n                                }\n                            })} \n                            onChange = {(event) => {\n                                const {value} = event.target;\n                                event.target.value = normalizeCvc(value);\n                            }}\n                            className='profile__input'\n                            placeholder='***'\n                            type='text'\n                            name='cvc'\n                        />\n                        {errors.cvc && <p className='form-error'>{errors.cvc.message}</p>}\n                    </FormLabel>\n                </div>\n            </div>\n            <button type='submit' className='profile__button'>Сохранить</button>\n        </form>\n    )\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './GoToMapModal.scss';\n\nclass GoToMapModal extends Component {\n    render() {\n        return (\n            <form className='form gotomap'>\n                <h3 className='gotomap__title'>Платежные данные заполнены</h3>\n                <h4 className='gotomap__subtitle'>Теперь вы можете заказывать такси.</h4>\n                    <Link to='/map' className='gotomap__button-link'>\n                        <button className='gotomap__button'>\n                            Перейти к карте\n                        </button>\n                    </Link>\n            </form>\n        );\n    }\n}\n\nexport default GoToMapModal;\n","import { Component } from 'react';\nimport './Profile.scss';\nimport Header from '../Header';\nimport { getCard } from '../../actions';\nimport { connect } from 'react-redux';\nimport { ProfileForm } from './ProfileForm';\nimport GoToMapModal from '../GoToMapModal';\n\nclass Profile extends Component {\n  state = {\n    updateCardData: false\n  }\n\n  componentDidMount() {\n    this.props.getCard(this.props.token);\n  }\n\n  updateCardData = (value) => {\n    value === true && this.setState({updateCardData: value})\n  }\n\n  render() {\n    return (\n      <>\n      <Header />\n      {\n        this.state.updateCardData \n          ? <GoToMapModal />\n          : <div className='form profile-form'> \n              <h2 style={{marginBottom:'10px'}}>Профиль</h2>\n              Способ оплаты\n              <ProfileForm updateCardData={this.updateCardData} {...this.props}/>\n            </div>\n      }\n      </>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    token: state.auth.token,\n    cardNumber: state.card.cardNumber,\n    expiryDate: state.card.expiryDate,\n    cardName: state.card.cardName,\n    cvc: state.card.cvc\n  }),\n  { getCard }\n)(Profile);\n","import { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../../actions';\nimport './App.scss';\nimport Logo from '../../images/logo.svg';\n\nimport Login from '../Login';\nimport Checkin from '../Checkin';\nimport Map from '../Map';\nimport Profile from '../Profile';\n\nconst PrivateRoute = connect(\n  (state) => ({isLoggedIn: state.auth.isLoggedIn}),\n  { logIn, logOut }\n)(({\n  component: RouteComponent, \n  isLoggedIn,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={routeProps =>\n      isLoggedIn ? (\n        <RouteComponent {...routeProps} />\n      ) : (\n        <Redirect to='/' />\n      )\n    }\n  />\n));\n\nclass App extends Component {\n  render() {\n    return (\n      <div className='wrapper'>\n        <main>\n          <img src={Logo} alt='Logo' className='logo' />\n          <section>\n            <Switch>\n              <Route path='/' exact component={Login} />\n              <Route path='/checkin' component={Checkin} />\n              <PrivateRoute path='/map' component={Map} />\n              <PrivateRoute path='/profile' component={Profile} />\n              <Redirect from='*' to='/' />\n            </Switch>\n          </section>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({isLoggedIn: state.auth.isLoggedIn})\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { theme } from 'loft-taxi-mui-theme';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store'; \nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={theme}>\n      <HashRouter>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </HashRouter>\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}